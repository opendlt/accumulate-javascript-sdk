import * as types from ".";

// DO NOT EDIT. Generated by gitlab.com/accumulatenetwork/accumulate/tools/cmd/gen-types.

/* eslint-disable @typescript-eslint/no-namespace */

export type Message =
  | types.BlockAnchor
  | types.CreditPayment
  | types.SequencedMessage
  | types.SignatureMessage
  | types.SignatureRequest
  | types.SyntheticMessage
  | types.TransactionMessage;

export namespace Message {
  export type Args =
    | types.BlockAnchor
    | types.BlockAnchor.ArgsWithType
    | types.CreditPayment
    | types.CreditPayment.ArgsWithType
    | types.SequencedMessage
    | types.SequencedMessage.ArgsWithType
    | types.SignatureMessage
    | types.SignatureMessage.ArgsWithType
    | types.SignatureRequest
    | types.SignatureRequest.ArgsWithType
    | types.SyntheticMessage
    | types.SyntheticMessage.ArgsWithType
    | types.TransactionMessage
    | types.TransactionMessage.ArgsWithType;

  export function fromObject(obj: Args): Message {
    if (obj instanceof types.BlockAnchor) return obj;
    if (obj instanceof types.CreditPayment) return obj;
    if (obj instanceof types.SequencedMessage) return obj;
    if (obj instanceof types.SignatureMessage) return obj;
    if (obj instanceof types.SignatureRequest) return obj;
    if (obj instanceof types.SyntheticMessage) return obj;
    if (obj instanceof types.TransactionMessage) return obj;

    switch (obj.type) {
      case (types.MessageType.BlockAnchor, "blockAnchor"):
        return new types.BlockAnchor(obj);
      case (types.MessageType.CreditPayment, "creditPayment"):
        return new types.CreditPayment(obj);
      case (types.MessageType.Sequenced, "sequenced"):
        return new types.SequencedMessage(obj);
      case (types.MessageType.Signature, "signature"):
        return new types.SignatureMessage(obj);
      case (types.MessageType.SignatureRequest, "signatureRequest"):
        return new types.SignatureRequest(obj);
      case (types.MessageType.Synthetic, "synthetic"):
        return new types.SyntheticMessage(obj);
      case (types.MessageType.Transaction, "transaction"):
        return new types.TransactionMessage(obj);
    }

    throw new Error(`Unknown message '${obj.type}'`);
  }
}
